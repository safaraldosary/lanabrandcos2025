<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ù„Ø§Ù†Ø§ Ø¨Ø±Ø§Ù†Ø¯ - Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
    background: #f9f9f9;
  }
  header {
    background: #007b8f;
    color: white;
    padding: 14px 20px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  header:hover {
    background: #005f68;
  }
  .filters {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0 10px;
  }
  .filters button {
    background-color: #007b8f;
    color: white;
    border: none;
    padding: 16px 28px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 22px;
    transition: background-color 0.3s;
  }
  .filters button:hover,
  .filters button.active {
    background-color: #005f68;
  }
  .search-box {
    display: flex;
    justify-content: center;
    margin-bottom: 30px;
  }
  .search-box input {
    padding: 18px;
    width: 90%;
    max-width: 600px;
    font-size: 22px;
    border-radius: 10px;
    border: 1px solid #ccc;
  }
  .products {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 30px;
    padding: 0 20px 50px;
  }
  .product {
    background: white;
    border-radius: 15px;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    padding: 20px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 550px;
    transition: transform 0.2s;
  }
  .product:hover {
    transform: scale(1.03);
  }
  .product img {
    max-width: 100%;
    max-height: 280px;
    object-fit: contain;
    margin-bottom: 15px;
  }
  .product h3 {
    font-size: 24px;
    margin: 10px 0 6px;
    text-align: center;
  }
  .product p {
    font-size: 18px;
    margin: 4px 0;
    text-align: center;
  }
  .cart-sidebar {
    position: fixed;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    background-color: #007b8f;
    border-radius: 20px 0 0 20px;
    padding: 20px 14px;
    width: 140px;
    text-align: center;
    color: white;
    cursor: pointer;
    box-shadow: 0 0 15px rgb(0 123 143 / 0.7);
    z-index: 1000;
  }
  .cart-sidebar:hover {
    background-color: #005f68;
  }
  .cart-sidebar .cart-icon {
    font-size: 46px;
    margin-bottom: 10px;
  }
  .cart-sidebar .cart-count {
    font-size: 22px;
    font-weight: bold;
  }
  .cart-sidebar .cart-total {
    font-size: 24px;
    margin-top: 10px;
    font-weight: bold;
  }

  /* Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
  #modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
  }
  #modal .modal-content {
    background: white;
    border-radius: 15px;
    max-width: 600px;
    width: 90%;
    padding: 30px;
    box-sizing: border-box;
    text-align: center;
    position: relative;
  }
  #modal img {
    max-width: 100%;
    max-height: 300px;
    object-fit: contain;
    margin-bottom: 20px;
  }
  #modal h2 {
    margin: 10px 0 15px;
    font-size: 28px;
  }
  #modal p.description {
    font-size: 18px;
    margin-bottom: 20px;
    color: #333;
  }
  #modal p.price {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }
  #modal .qty-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
  }
  #modal .qty-controls button {
    background-color: #007b8f;
    border: none;
    color: white;
    font-size: 28px;
    width: 50px;
    height: 50px;
    border-radius: 12px;
    cursor: pointer;
    user-select: none;
  }
  #modal .qty-controls span {
    font-size: 26px;
    width: 60px;
    text-align: center;
    display: inline-block;
  }
  #modal button.add-to-cart {
    background-color: #007b8f;
    border: none;
    color: white;
    font-size: 22px;
    padding: 15px 40px;
    border-radius: 12px;
    cursor: pointer;
  }
  #modal button.add-to-cart:hover {
    background-color: #005f68;
  }
  #modal .close-btn {
    position: absolute;
    top: 14px;
    left: 14px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    color: #999;
  }
  #modal .close-btn:hover {
    color: #555;
  }
</style>
</head>
<body>

<header id="home-link">Ù„Ø§Ù†Ø§ Ø¨Ø±Ø§Ù†Ø¯</header>

<div class="filters">
  <button class="filter-btn active" data-category="all">ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
  <button class="filter-btn" data-category="soap">Ø§Ù„ØµØ§Ø¨ÙˆÙ†</button>
  <button class="filter-btn" data-category="shampoo">Ø§Ù„Ø´Ø§Ù…Ø¨Ùˆ</button>
  <button class="filter-btn" data-category="oil">Ø§Ù„Ø²ÙŠÙˆØª</button>
  <button class="filter-btn" data-category="cream">Ø§Ù„ÙƒØ±ÙŠÙ…Ø§Øª</button>
</div>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." />
</div>

<div class="products" id="product-list">
  <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
</div>

<div class="cart-sidebar" id="cart-sidebar" title="Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª">
  <div class="cart-icon">ğŸ›’</div>
  <div class="cart-count" id="cart-count">0</div>
  <div class="cart-total" id="total-price">0 Ø¯.Ø¹</div>
</div>

<!-- Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
<div id="modal">
  <div class="modal-content">
    <div class="close-btn" id="modal-close">&times;</div>
    <img id="modal-img" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬" />
    <h2 id="modal-title">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</h2>
    <p class="description" id="modal-desc">ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬</p>
    <p class="price" id="modal-price">0 Ø¯.Ø¹</p>
    <div class="qty-controls">
      <button id="qty-minus">-</button>
      <span id="modal-qty">1</span>
      <button id="qty-plus">+</button>
    </div>
    <button class="add-to-cart" id="add-to-cart-btn">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
  </div>
</div>

<script>
  // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª - Ø¹Ø¯Ù„ Ø£Ùˆ Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
  const products = [
    {
      name: "ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ",
      category: "soap",
      price: 12000,
      desc: "ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ 100% Ù…ØµÙ†ÙˆØ¹ Ù…Ù† Ø²ÙŠÙˆØª Ù†Ø¨Ø§ØªÙŠØ©.",
      image: "https://i.imgur.com/WPq6FcI.jpg"
    },
    {
      name: "Ø´Ø§Ù…Ø¨Ùˆ Ù…ØºØ°ÙŠ",
      category: "shampoo",
      price: 22000,
      desc: "Ø´Ø§Ù…Ø¨Ùˆ Ù…ØºØ°ÙŠ Ù…Ù†Ø§Ø³Ø¨ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø´Ø¹Ø±.",
      image: "https://i.imgur.com/mBOxP3v.jpg"
    },
    {
      name: "Ø²ÙŠØª Ø§Ù„Ø£Ø±Ø¬Ø§Ù†",
      category: "oil",
      price: 35000,
      desc: "Ø²ÙŠØª Ø§Ù„Ø£Ø±Ø¬Ø§Ù† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ù„ØªØ±Ø·ÙŠØ¨ ÙˆØªØºØ°ÙŠØ© Ø§Ù„Ø´Ø¹Ø± ÙˆØ§Ù„Ø¨Ø´Ø±Ø©.",
      image: "https://i.imgur.com/T0vB7yT.jpg"
    },
    {
      name: "ÙƒØ±ÙŠÙ… Ù…Ø±Ø·Ø¨",
      category: "cream",
      price: 18000,
      desc: "ÙƒØ±ÙŠÙ… Ù…Ø±Ø·Ø¨ Ù„Ù„Ø¨Ø´Ø±Ø© Ø§Ù„Ø¬Ø§ÙØ© Ù…Ø¹ ÙÙŠØªØ§Ù…ÙŠÙ† E.",
      image: "https://i.imgur.com/YS0O0V6.jpg"
    },
    {
      name: "ØµØ§Ø¨ÙˆÙ† Ø§Ù„Ø¹Ø³Ù„",
      category: "soap",
      price: 15000,
      desc: "ØµØ§Ø¨ÙˆÙ† Ø¨Ø§Ù„Ø¹Ø³Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ù„ØªÙ†Ø¸ÙŠÙ ÙˆØªØ±Ø·ÙŠØ¨ Ø§Ù„Ø¨Ø´Ø±Ø©.",
      image: "https://i.imgur.com/dWgqO06.jpg"
    },
    {
      name: "Ø´Ø§Ù…Ø¨Ùˆ Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨",
      category: "shampoo",
      price: 24000,
      desc: "Ø´Ø§Ù…Ø¨Ùˆ Ø¨Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ø´Ø¹Ø±.",
      image: "https://i.imgur.com/H2q6TJ5.jpg"
    }
  ];

  const productList = document.getElementById('product-list');
  const searchInput = document.getElementById('searchInput');
  const filterButtons = document.querySelectorAll('.filter-btn');
  const cartSidebar = document.getElementById('cart-sidebar');
  const cartCount = document.getElementById('cart-count');
  const totalPriceEl = document.getElementById('total-price');
  const homeLink = document.getElementById('home-link');

  const modal = document.getElementById('modal');
  const modalImg = document.getElementById('modal-img');
  const modalTitle = document.getElementById('modal-title');
  const modalDesc = document.getElementById('modal-desc');
  const modalPrice = document.getElementById('modal-price');
  const modalQtySpan = document.getElementById('modal-qty');
  const qtyPlusBtn = document.getElementById('qty-plus');
  const qtyMinusBtn = document.getElementById('qty-minus');
  const addToCartBtn = document.getElementById('add-to-cart-btn');
  const modalCloseBtn = document.getElementById('modal-close');

  let filteredCategory = 'all';
  let cart = JSON.parse(localStorage.getItem('cart')) || {};
  let currentProduct = null;
  let modalQty = 1;

  function renderProducts() {
    productList.innerHTML = '';

    const searchText = searchInput.value.trim().toLowerCase();

    const filtered = products.filter(product => {
      const matchCategory = filteredCategory === 'all' || product.category === filteredCategory;
      const matchSearch = product.name.toLowerCase().includes(searchText);
      return matchCategory && matchSearch;
    });

    filtered.forEach((product, index) => {
      const qtyInCart = cart[product.name]?.qty || 0;
      const priceTotal = product.price * qtyInCart;

      const productDiv = document.createElement('div');
      productDiv.classList.add('product');
      productDiv.innerHTML = `
        <img src="${product.image}" alt="${product.name}" />
        <h3>${product.name}</h3>
        <p>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©: ${product.price.toLocaleString()} Ø¯.Ø¹</p>
        <p>Ø§Ù„ÙƒÙ…ÙŠØ© ÙÙŠ Ø§Ù„Ø³Ù„Ø©: ${qtyInCart}</p>
        <p>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${priceTotal.toLocaleString()} Ø¯.Ø¹</p>
      `;
      productDiv.onclick = () => openModal(index);
      productList.appendChild(productDiv);
    });
  }

  function filterProducts(category) {
    filteredCategory = category;
    filterButtons.forEach(btn => btn.classList.remove('active'));
    document.querySelector(`.filter-btn[data-category="${category}"]`).classList.add('active');
    renderProducts();
  }

  function searchProducts() {
    renderProducts();
  }

  function openModal(index) {
    currentProduct = products[index];
    modalQty = cart[currentProduct.name]?.qty || 1;
    modalImg.src = currentProduct.image;
    modalTitle.textContent = currentProduct.name;
    modalDesc.textContent = currentProduct.desc;
    modalPrice.textContent = (currentProduct.price * modalQty).toLocaleString() + ' Ø¯.Ø¹';
    modalQtySpan.textContent = modalQty;
    modal.style.display = 'flex';
  }

  function closeModal() {
    modal.style.display = 'none';
  }

  function changeQty(amount) {
    modalQty += amount;
    if (modalQty < 1) modalQty = 1;
    modalQtySpan.textContent = modalQty;
    modalPrice.textContent = (currentProduct.price * modalQty).toLocaleString() + ' Ø¯.Ø¹';
  }

  function addToCart() {
    if (!currentProduct) return;

    if (cart[currentProduct.name]) {
      cart[currentProduct.name].qty += modalQty;
    } else {
      cart[currentProduct.name] = { ...currentProduct, qty: modalQty };
    }
    saveCart();
    closeModal();
    renderProducts();
    updateCartSidebar();
  }

  function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
  }

  function updateCartSidebar() {
    let totalQty = 0;
    let totalPrice = 0;

    for (const key in cart) {
      totalQty += cart[key].qty;
      totalPrice += cart[key].price * cart[key].qty;
    }

    cartCount.textContent = totalQty;
    totalPriceEl.textContent = totalPrice.toLocaleString() + ' Ø¯.Ø¹';
  }

  // Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
  searchInput.addEventListener('input', searchProducts);
  filterButtons.forEach(btn => {
    btn.addEventListener('click', () => filterProducts(btn.dataset.category));
  });

  qtyPlusBtn.addEventListener('click', () => changeQty(1));
  qtyMinusBtn.addEventListener('click', () => changeQty(-1));
  addToCartBtn.addEventListener('click', addToCart);
  modalCloseBtn.addEventListener('click', closeModal);

  // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
  modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
  });

  // Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ØªÙ†Ù‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© cart.html
  cartSidebar.addEventListener('click', () => {
    window.location.href = 'cart.html';
  });

  // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø³Ù… "Ù„Ø§Ù†Ø§ Ø¨Ø±Ø§Ù†Ø¯" ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ØŒ Ù†Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© (ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©)
  homeLink.addEventListener('click', () => {
    window.location.href = 'index.html';  // ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ø³Ù… Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡Ùˆ index.html Ø£Ùˆ ØºÙŠØ±Ù‡ Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ùƒ
  });

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø³Ù„Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
  window.onload = () => {
    renderProducts();
    updateCartSidebar();
  };
</script>

</body>
</html>