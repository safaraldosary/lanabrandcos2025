<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>منتجات لانا براند</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #fff;
    color: #333;
  }
  header {
    background: #222;
    color: #fff;
    padding: 20px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 24px;
    font-weight: bold;
  }
  header a.brand {
    color: #fff;
    text-decoration: none;
  }
  nav.sections {
    display: flex;
    gap: 20px;
  }
  nav.sections button {
    background: #555;
    border: none;
    padding: 10px 18px;
    font-size: 20px;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s;
  }
  nav.sections button.active,
  nav.sections button:hover {
    background: #f04e30;
  }
  #search-container {
    margin: 15px 30px;
  }
  #search-input {
    width: 100%;
    font-size: 22px;
    padding: 10px 15px;
    border-radius: 8px;
    border: 2px solid #ddd;
    box-sizing: border-box;
  }

  main {
    max-width: 700px;
    margin: 20px auto 100px auto;
    padding: 0 15px;
  }

  .products-list {
    display: flex;
    flex-direction: column; /* عمودي */
    gap: 25px;
  }

  .product-card {
    display: flex;
    gap: 15px;
    background: #f8f8f8;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    height: 150px;
  }
  .product-image {
    width: 150px;
    aspect-ratio: 1/1;
    object-fit: cover;
  }
  .product-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 15px 10px;
  }
  .product-info h3 {
    margin: 0;
    font-size: 24px;
  }
  .product-info p {
    font-size: 18px;
    margin: 8px 0 12px 0;
    flex-grow: 1;
    color: #555;
  }
  .price-and-btn {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .product-price {
    font-size: 24px;
    font-weight: bold;
    color: #f04e30;
  }
  button.add-to-cart {
    background: #f04e30;
    border: none;
    color: white;
    padding: 10px 20px;
    font-size: 20px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }
  button.add-to-cart:hover {
    background: #d94323;
  }

  /* السلة الجانبية في منتصف يمين الشاشة */
  #cart-sidebar {
    position: fixed;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    background: #f04e30;
    padding: 18px 20px;
    border-radius: 12px;
    color: white;
    font-size: 22px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(240, 78, 48, 0.8);
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 90px;
  }
  #cart-sidebar .cart-count {
    font-size: 28px;
    font-weight: bold;
  }
  #cart-sidebar .cart-total-label {
    margin-top: 8px;
    font-size: 20px;
    font-weight: 600;
  }
  #cart-sidebar .cart-total-price {
    font-size: 24px;
    margin-top: 4px;
  }

  footer {
    background: #222;
    color: white;
    padding: 30px 20px;
    text-align: center;
    font-size: 18px;
    position: relative;
    margin-top: 40px;
  }
  footer .social-links {
    margin-top: 15px;
  }
  footer .social-links a {
    color: white;
    margin: 0 12px;
    font-size: 28px;
    text-decoration: none;
    transition: color 0.3s;
  }
  footer .social-links a:hover {
    color: #f04e30;
  }
</style>
</head>
<body>

<header>
  <a href="index.html" class="brand">لانا براند</a>
  <nav class="sections">
    <button class="active" data-category="all">كل المنتجات</button>
    <button data-category="soap">الصابون</button>
    <button data-category="shampoo">الشامبو</button>
    <button data-category="oil">الزيوت</button>
    <button data-category="cream">الكريمات</button>
  </nav>
</header>

<div id="search-container">
  <input id="search-input" type="search" placeholder="ابحث عن منتج..." />
</div>

<main>
  <div class="products-list" id="products-list">
    <!-- المنتجات ستُضاف هنا بواسطة الجافاسكربت -->
  </div>
</main>

<div id="cart-sidebar" title="عرض السلة">
  <div class="cart-count">0</div>
  <div class="cart-total-label">السعر الإجمالي</div>
  <div class="cart-total-price">0 ريال</div>
</div>

<footer>
  حقوق النشر © 2025 لانا براند. جميع الحقوق محفوظة.
  <div class="social-links">
    <a href="https://instagram.com/lana_brand" target="_blank" aria-label="Instagram">📸</a>
    <a href="https://facebook.com/lana_brand" target="_blank" aria-label="Facebook">📘</a>
  </div>
</footer>

<script>
  const products = [
    {id:1, name:"صابون طبيعي", category:"soap", description:"صابون طبيعي نقي وفعال للعناية بالبشرة.", price:35, image:"https://via.placeholder.com/150?text=صابون"},
    {id:2, name:"شامبو الأعشاب", category:"shampoo", description:"شامبو يحتوي على مستخلصات الأعشاب الطبيعية.", price:50, image:"https://via.placeholder.com/150?text=شامبو"},
    {id:3, name:"زيت الأرغان", category:"oil", description:"زيت الأرغان لترطيب وتغذية الشعر.", price:75, image:"https://via.placeholder.com/150?text=زيت"},
    {id:4, name:"كريم ترطيب", category:"cream", description:"كريم غني بالمرطبات للعناية بالبشرة.", price:60, image:"https://via.placeholder.com/150?text=كريم"},
    {id:5, name:"صابون العسل", category:"soap", description:"صابون بالعسل الطبيعي لتنظيف البشرة.", price:40, image:"https://via.placeholder.com/150?text=صابون+عسل"}
  ];

  const productsList = document.getElementById("products-list");
  const cartSidebar = document.getElementById("cart-sidebar");
  const cartCountElem = cartSidebar.querySelector(".cart-count");
  const cartTotalPriceElem = cartSidebar.querySelector(".cart-total-price");
  const sectionButtons = document.querySelectorAll("nav.sections button");
  const searchInput = document.getElementById("search-input");

  let cart = {};

  function renderProducts(filterCategory = "all", searchTerm = "") {
    productsList.innerHTML = "";
    let filtered = products.filter(p => {
      return (filterCategory === "all" || p.category === filterCategory)
        && p.name.includes(searchTerm) || p.description.includes(searchTerm);
    });
    filtered.forEach(product => {
      const card = document.createElement("div");
      card.className = "product-card";
      card.innerHTML = `
        <img class="product-image" src="${product.image}" alt="${product.name}" />
        <div class="product-info">
          <h3>${product.name}</h3>
          <p>${product.description}</p>
          <div class="price-and-btn">
            <div class="product-price">${product.price} ريال</div>
            <button class="add-to-cart" data-id="${product.id}">أضف إلى السلة</button>
          </div>
        </div>
      `;
      productsList.appendChild(card);
    });
    attachAddToCartEvents();
  }

  function attachAddToCartEvents() {
    const addButtons = document.querySelectorAll(".add-to-cart");
    addButtons.forEach(btn => {
      btn.onclick = () => {
        const id = btn.dataset.id;
        if(cart[id]) {
          cart[id]++;
        } else {
          cart[id] = 1;
        }
        updateCartSidebar();
      };
    });
  }

  function updateCartSidebar() {
    let count = 0;
    let total = 0;
    for (const id in cart) {
      const product = products.find(p => p.id == id);
      count += cart[id];
      total += product.price * cart[id];
    }
    cartCountElem.textContent = count;
    cartTotalPriceElem.textContent = total + " ريال";
  }

  sectionButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      sectionButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      renderProducts(btn.dataset.category, searchInput.value.trim());
    });
  });

  searchInput.addEventListener("input", () => {
    const activeBtn = document.querySelector("nav.sections button.active");
    renderProducts(activeBtn.dataset.category, searchInput.value.trim());
  });

  cartSidebar.addEventListener("click", () => {
    window.location.href = "cart.html";
  });

  // العرض الابتدائي لكل المنتجات
  renderProducts();
  updateCartSidebar();

</script>

</body>
</html>